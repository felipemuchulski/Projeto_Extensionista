<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../static/styles/style.css">
  <link rel="stylesheet" href="../static/styles/index.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <title>Home Page - Byte Club</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body id="home">
  <header>
    <nav class="header-nav">
      <a class="nav-item" href="/templates/index.html">
        <h1>Byte Club</h1>
      </a>
      <a class="nav-item" href="../pages/web.html">HTML</a>
      <a class="nav-item" href="../pages/css.html">CSS</a>
      <a class="nav-item" href="../pages/scratch.html">Scratch</a>
    </nav>
    <div class="header-search">
      <input type="text" id="inptPesquisa" placeholder="Pesquisar..." />
      <i class="fa-solid fa-magnifying-glass"></i>
    </div>
  </header>

  <main>
    <section class="banner">
      <div class="banner-text container">
        <h1>Bem-vindo</h1>
        <p class="text_content_medium">
          Quer dar seus primeiros passos em dire√ß√£o ao mundo da programa√ß√£o? Ent√£o voc√™ est√° no lugar certo!
        </p>
      </div>
    </section>
    <section class="s1 container">
      <h1>Quem somos?</h1>
      <p class="text_content_medium">
        Somos estudantes de computa√ß√£o assim como voc√™ e estamos animados em apresentar nossa p√°gina dedicada ao ensino de programa√ß√£o para jovens. Nosso objetivo √© apresentar o mundo da programa√ß√£o web, oferecendo um espa√ßo onde voc√™ pode aprender HTML e CSS de maneira f√°cil e divertida
      </p>
    </section>
    <section class="container video-section">
      <div class="youtubeBox">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/ts-H3W1uLMM?si=paWpA5qaViZoQzdH" title="Youtube Player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; ¬† 
            picture-in-picture" allowfullscreen>
        </iframe>
      </div>
    </section>
    <section class="container courses">
      <h1>Cursos</h1>
      <p class="text_content_medium">
        Aqui, voc√™ encontrar√° tutoriais passo a passo, exemplos pr√°ticos e desafios interativos que ajudar√£o a desenvolver suas habilidades. Al√©m disso, tamb√©m introduzimos a l√≥gica de programa√ß√£o atrav√©s do Scratch, uma ferramenta incr√≠vel que utiliza blocos para criar projetos interativos e jogos, tornando o aprendizado ainda mais interessante.
      </p>
      <div class="courses-imgs">
        <a class="html" href="../pages/web.html"></a>
        <a class="css" href="../pages/css.html"></a>
        <a class="scratch" href="../pages/scratch.html"></a>
        <!-- <a class="javascript" href="./pages/conteudo_js.html"></a> -->
      </div>
    </section>
    <section class="container s2">
      <h1>Vamos explorar juntos! üöÄ</h1>
      <p class="text_content_medium">
        Nosso objetivo √© inspirar a pr√≥xima gera√ß√£o de programadores, proporcionando um ambiente cheio de recursos. Junte-se a n√≥s nessa jornada e comece a explorar o universo da programa√ß√£o!
      </p>
    </section>
  </main>
  
 <!--Bolinha do bot -->
  <div class="chaticon"></div>
  <form class="chat" id="bot-form">
    <div id="chat-messages"></div>
    <input type="text" name="prompt" id="prompt-input" placeholder="Digite sua pergunta sobre HTML, CSS ou Scratch">
    <button type="submit">Envie a pergunta</button>
  </form>

    <script>
    document.getElementById("bot-form").addEventListener("submit", async function(event) {
    console.log("Evento de Submit:", event);
    event.preventDefault();
    event.stopPropagation();

    const promptInput = document.getElementById("prompt-input");
    const chatMessages = document.getElementById("chat-messages");

    // Verifica se os elementos existem antes de tentar acess√°-los
    if (!promptInput || !chatMessages) {
        console.error("Erro: Elementos HTML n√£o encontrados.");
        return; // Sai da fun√ß√£o se os elementos n√£o existirem
    }

    const question = promptInput.value.trim().toLowerCase(); // trim() e toLowerCase() adicionados
    promptInput.value = "";

    chatMessages.innerHTML += `<div class="user-message"><b>Voc√™:</b> ${question}</div>`;

    try {
        const formData = { prompt: question }; // Objeto JavaScript para enviar como JSON
        console.log("Enviando dados:", formData);
        console.log("Enviando dados:", JSON.stringify(formData))
        const response = await fetch("/", {
            method: "POST",
            headers: { 'Content-Type': 'application/json' }, // Cabe√ßalho JSON
            body: JSON.stringify(formData) // Corpo da requisi√ß√£o em JSON
        });

        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error || "Erro na requisi√ß√£o.");
        }

        try { // Bloco try-catch para o JSON.parse
            const responseJson = await response.json();
            const respostaHTML = marked.parse(responseJson.resposta);
            chatMessages.innerHTML += `<div class="bot-message"><b>Bot:</b> ${respostaHTML}</div>`;
        } catch (jsonError) {
            console.error("Erro ao analisar JSON:", jsonError);
            chatMessages.innerHTML += `<div class="error-message">Erro: Resposta inv√°lida do servidor (n√£o √© JSON).</div>`;
        }

    } catch (error) {
        console.error("Erro ao processar a requisi√ß√£o ou a resposta:", error);
        chatMessages.innerHTML += `<div class="error-message">Erro: ${error.message}</div>`;
    }

    chatMessages.scrollTop = chatMessages.scrollHeight;
});
    </script>
  
  <footer>
    <div>
      <h3>Cursos</h3>
      <a href="./pages/web.html">HTML</a>
      <a href="./pages/css.html">CSS</a>
      <a href="./pages/scratch.html">Scratch</a>
    </div>

    <div>
      <h3>Conte√∫do adicional</h3>
      <a href="">Conte√∫do</a>
      <a href="">Conte√∫do</a>
      <a href="">Conte√∫do</a>
    </div>

    <div>
      <h3>Direitos de uso</h3>
      <a href="">Conte√∫do</a>
      <a href="">Conte√∫do</a>
      <a href="">Conte√∫do</a>
    </div>

    <div>
      <h3>Contato & redes sociais</h3>
      <a href="">email@gmail.com</a>
      <a href="">youtube.com/@canal</a>
      <a href="">Conte√∫do</a>
    </div>
  </footer>
  <script src="/static/scripts/main.js"></script>
</body>

</html>